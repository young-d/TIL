## Rest API

- ë°°ê²½
- ê°œë…

- ì¡°ê±´
- ì›ì¹™ - HTTP API  ì™€ ì°¨ì´ì 
- 

    ### **ìì›ì˜ ì‹ë³„**

    ìš”ì²­ ë‚´ì— ê¸°ìˆ ëœ ê°œë³„ ìì›ì„ ì‹ë³„í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ì›¹ ê¸°ë°˜ì˜ REST ì‹œìŠ¤í…œì—ì„œì˜Â [URI](https://ko.wikipedia.org/wiki/URI)ì˜ ì‚¬ìš©ì„ ì˜ˆë¡œ ë“¤ ìˆ˜ ìˆë‹¤. ìì› ê·¸ ìì²´ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ë°›ëŠ” ë¬¸ì„œì™€ëŠ” ê°œë…ì ìœ¼ë¡œ ë¶„ë¦¬ë˜ì–´ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì„œë²„ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ë‚´ë¶€ì˜ ìë£Œë¥¼ ì§ì ‘ ì „ì†¡í•˜ëŠ” ëŒ€ì‹ , ë°ì´í„°ë² ì´ìŠ¤ ë ˆì½”ë“œë¥¼ HTML, XMLì´ë‚˜ JSON ë“±ì˜ í˜•ì‹ìœ¼ë¡œ ì „ì†¡í•œë‹¤.

    ### **ë©”ì‹œì§€ë¥¼ í†µí•œ ë¦¬ì†ŒìŠ¤ì˜ ì¡°ì‘**

    í´ë¼ì´ì–¸íŠ¸ê°€ ì–´ë–¤ ìì›ì„ ì§€ì¹­í•˜ëŠ” ë©”ì‹œì§€ì™€ íŠ¹ì • ë©”íƒ€ë°ì´í„°ë§Œ ê°€ì§€ê³  ìˆë‹¤ë©´ ì´ê²ƒìœ¼ë¡œ ì„œë²„ ìƒì˜ í•´ë‹¹ ìì›ì„ ë³€ê²½Â·ì‚­ì œí•  ìˆ˜ ìˆëŠ” ì¶©ë¶„í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆëŠ” ê²ƒì´ë‹¤.

    ### **ìê¸°ì„œìˆ ì  ë©”ì‹œì§€**

    ê° ë©”ì‹œì§€ëŠ” ìì‹ ì„ ì–´ë–»ê²Œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ ì¶©ë¶„í•œ ì •ë³´ë¥¼ í¬í•¨í•´ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ MIME typeê³¼ ê°™ì€ ì¸í„°ë„· ë¯¸ë””ì–´ íƒ€ì…ì„ ì „ë‹¬í•œë‹¤ë©´, ê·¸ ë©”ì‹œì§€ì—ëŠ” ì–´ë–¤ íŒŒì„œë¥¼ ì´ìš©í•´ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ë„ í¬í•¨í•´ì•¼ í•œë‹¤. ë¯¸ë””ì–´ íƒ€ì…ë§Œ ê°€ì§€ê³ ë„, í´ë¼ì´ì–¸íŠ¸ëŠ” ì–´ë–»ê²Œ ê·¸ ë‚´ìš©ì„ ì²˜ë¦¬í•´ì•¼í•  ì§€ ì•Œ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ë©”ì‹œì§€ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ê·¸ ë‚´ìš©ê¹Œì§€ ì‚´í´ë´ì•¼ í•œë‹¤ë©´, ê·¸ ë©”ì‹œì§€ëŠ” ìê¸°ì„œìˆ ì ì´ ì•„ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë‹¨ìˆœíˆ "application/xml"ì´ë¼ëŠ” ë¯¸ë””ì–´ íƒ€ì…ì€, ì‹¤ì œ ë‚´ìš©ì„ ë‹¤ìš´ë¡œë“œ ë°›ì§€ ì•Šìœ¼ë©´ ê·¸ ë©”ì‹œì§€ë§Œ ê°€ì§€ê³ ëŠ” ë¬´ì—‡ì„ í•´ì•¼í• ì§€ì— ëŒ€í•´ ì¶©ë¶„íˆ ì•Œë ¤ì£¼ì§€ ëª»í•œë‹¤.

    ### **ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœì— ëŒ€í•œ ì—”ì§„ìœ¼ë¡œì„œ í•˜ì´í¼ë¯¸ë””ì–´**

    ë§Œì•½ì— í´ë¼ì´ì–¸íŠ¸ê°€ ê´€ë ¨ëœ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ê¸°ë¥¼ ì›í•œë‹¤ë©´, ë¦¬í„´ë˜ëŠ” ì§€ì‹œìì—ì„œ êµ¬ë³„ë  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ì¶©ë¶„í•œ ì½˜í…ìŠ¤íŠ¸ ì†ì—ì„œì˜ URIë¥¼ ì œê³µí•´ì£¼ëŠ” í•˜ì´í¼í…ìŠ¤íŠ¸ ë§í¬ì˜ ì˜ˆë¥¼ ë“¤ ìˆ˜ ìˆê² ë‹¤.

- SOAP

## HTTP Request Method

HTTP ìš”ì²­ ë©”ì„œë“œëŠ” ì•ˆì •ì„±, ìºì‹œê°€ëŠ¥, ë©±ë“±ì„± 

### Get

- FIND all â†’ /resources
- FIND one by id â†’ /resources/:id

### Post

- CREATE resource â†’ /resources

### Delete

- DELETE â†’ /resources

### Put

- UPDATE all of resource â†’ /resources

### Patch

- UPDATE a part of resource â†’ /resources

## HTTP Response Status Code

- 200~
- 400~
- 500~

## Resource ë¶„ë¥˜



## ğŸ¸ íŒŒë¼ë¯¸í„° ë°›ëŠ” ë°©ë²•

1. Requestë¥¼ í†µí•´ ë°›ëŠ” ë°©ë²•

```java
    @RestController
    class TempController {
    	
        @GetMapping("/temp")
        String temp(HttpServletRequest request) {
        	String a = request.getParameter("a");
            String b = request.getParameter("b");
            
            return "none";
        }
    }
```
<br/>
<br/>

2. Mapìœ¼ë¡œ ë°›ëŠ” ë°©ë²•

```java
    @RestController
    class TempController {
    
    	@GetMapping("/temp")
        String temp(@RequestParam Map<String, String> param) {
        	String a = param.get("a");
        	String b = param.get("b");
        
        	return "none";
    	}
    }
```
<br/>
<br/>

3. @RequestParamì„ í†µí•´ ì§ì ‘ ë§¤ì¹­í•˜ëŠ” ë°©ë²•

```java
    @RequestController
    class TempController {
    
    	@GetMapping("/temp")
        String temp(@RequestParam("a") String a, @RequestParam("b") int b) {
        	
            return "none";
        }
    }
```

- HTTP ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬ë°›ì„ ë•Œ ì‚¬ìš©ë˜ê³  nameì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ì…ë ¥
- Parameter íƒ€ì…ì„ intë¡œ ì§€ì •í•˜ë©´ ìë™ìœ¼ë¡œ ë³€í™˜

<br/>
<br/>

4. Model Classë¡œ ë°›ëŠ” ë°©ë²•

```java
    @RestController
    class TempController {
    
    	@GetMapping("/temp")
    	String temp(Abc abc, Model model) {
    		//Model ìŠ¤ìº” ì‹œì‘
        	Map<String, Object> map = model.asMap();
        	for(String key : map.keySet()) {
        		System.out.println(key + " : " + map.get(key).toString());
        	}
        	//Model ìŠ¤ìº” ì¢…ë£Œ
        
        	return "none";
    	}
    }
```

- Viewì— ì „ë‹¬í•  ëª¨ë¸ ë°ì´í„°ë¥¼ ì„¤ì •í•  ë•Œ ì‚¬ìš©
- ë°ì´í„°ì˜ ì–‘ì´ ë§ì€ ê²½ìš° ìœ ìš©

<br/>
<br/>

5. @PathVariableë¡œ ë°›ëŠ” ë°©ë²•

```java
    @RestController
    class TempController {
    	
        @GetMapping("/temp/{a}/{b}")
        String temp(@PathVariable("a") String a, @PathVariable("b") int b) {
        	
            return "none";
        }
    }
```

- pathì—ì„œ Parameterë¥¼ ë°›ëŠ” ê·œì¹™

<br/>
<br/>

6. Model Class + @PathVariable ì¡°í•©ìœ¼ë¡œ ë°›ëŠ” ë°©ë²•

```java
    @RestController
    class TempController {
    	@GetMapping("/temp/{a}/{b}")
        String temp(Abc abc) {
        	System.out.println(abc.getA());
            System.out.println(abc.getB());
            return "none";
        }
        
        @Data @ToString @Getter @Setter
        static class Abc {
        	String a;
            int b;
        }
    }
```
