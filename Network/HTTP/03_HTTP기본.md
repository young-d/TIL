# 0. λ¨λ“  κ²ƒμ΄ HTTP - μ§€κΈμ€ HTTP μ‹λ€!

## (1) HTTP: HyperText Transfer Protocol

### HTTP λ©”μ„Έμ§€μ— λ¨λ“  κ²ƒμ„ μ „μ†΅

- HTML, TEXT
- Image, μμ„±, μμƒ, νμΌ
- JSON, XML (API)
- κ±°μ λ¨λ“  ν•νƒμ λ°μ΄ν„°λ¥Ό μ „μ†΅ κ°€λ¥
- μ„λ²„κ°„μ— λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ λ•λ„ λ€λ¶€λ¶„ HTTP μ‚¬μ©

## (2) HTTP μ—­μ‚¬

- HTTP/0.9 (1991): GET λ©”μ„λ“λ§ μ§€μ›, HTTP ν—¤λ”x
- HTTP/1.0 (1996): λ©”μ„λ“, ν—¤λ” μ¶”κ°€
- **HTTP/1.1 (1997): κ°€μ¥ λ§μ΄ μ‚¬μ©, μ°λ¦¬μ—κ² κ°€μ¥ μ¤‘μ”ν• λ²„μ „**
    - λ€λ¶€λ¶„μ κΈ°λ¥μ΄ μ΄ λ• λ¨λ‘ μ¶”κ°€λκ³ , μ΄ν›„ λ²„μ „μ€ μ„±λ¥ κ°μ„ μ— μ΄μ 
    - RFC2068(1997) β†’ RFC2616(1999) β†’ **RFC7230~5(2014)**
- HTTP/2 (2015): μ„±λ¥ κ°μ„ 
- HTTP/3 (μ§„ν–‰μ¤‘~): TCP λ€μ‹ μ— UDP μ‚¬μ©, μ„±λ¥ κ°μ„ 

# 1. κΈ°λ° ν”„λ΅ν† μ½

- TCP: HTTP/1.1, HTTP/2
- UDP: HTTP/3
- ν„μ¬ HTTP/1.1 μ£Όλ΅ μ‚¬μ©
    - 2,3λ„ μ μ  μ¦κ°€

# 2. HTTP νΉμ§•

## (1) **ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κµ¬μ΅°**

- Request Response κµ¬μ΅°
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄κ³  μ‘λ‹µμ„ λ€κΈ°
- μ„λ²„κ°€ μ”μ²­μ— λ€ν• κ²°κ³Όλ¥Ό λ§λ“¤μ–΄μ„ μ‘λ‹µ
- **κ°λ…μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ΅ λ¶„λ¦¬**ν•λ” κ²ƒμ μμ
    - ν΄λΌμ΄μ–ΈνΈλ” μ‚¬μ©μ„±κ³Ό μΈν„°νμ΄μ¤μ—λ§ μ§‘μ¤‘ν•λ©΄ λ¨
    - μ„λ²„λ” μ„±λ¥κ³Ό μ•„ν‚¤νƒμ³λ§ μ§‘μ¤‘ν•λ©΄ λ¨
    

## (2) **λ¬΄μƒνƒ ν”„λ΅ν† μ½ μ§€ν–¥** (**Stateless**)

- cf. **Stateful, Stateless μ°¨μ΄**
    - μƒνƒ μ μ§€(**Stateful**): **μ„λ²„**κ°€ **ν΄λΌμ΄μ–ΈνΈ**μ **μ΄μ „ μƒνƒλ¥Ό λ³΄μ΅΄**ν•λ‹¤.
        - μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€λ©΄ μ•λλ‹¤ .
            - μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€” λ• μƒνƒ μ •λ³΄(κ³ κ°μ΄ λ¬΄μ—‡μ„ λ‡κ°μ‚¬κ³  λ­λ΅ κ²°μ¬ν• μ§€ λ“±)λ¥Ό λ‹¤λ¥Έ μ μ›μ—κ² λ―Έλ¦¬ μ•λ ¤μ£Όμ–΄μ•Ό ν•λ‹¤.
    - λ¬΄μƒνƒ(**Stateless**): **μ„λ²„**κ°€ **ν΄λΌμ΄μ–ΈνΈμ μ΄μ „ μƒνƒλ¥Ό λ³΄μ΅΄ν•μ§€ μ•λ”λ‹¤**.
        - μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€μ–΄λ„ λλ‹¤.
            - κ³ κ°μ€ λ§¤λ² μƒνƒ μ •λ³΄λ¥Ό λ¨λ‘ μ•λ ¤μ£ΌκΈ° λ•λ¬Έμ— μ μ›μ΄ λ„κµ¬λ”λΌλ„ μƒκ΄€μ—†λ‹¤.
        - κ°‘μκΈ° κ³ κ°μ΄ μ¦κ°€ν•΄λ„ μ μ›μ„ λ€κ±° ν¬μ…ν•  μ μλ‹¤.
            - κ°‘μκΈ° ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ΄ μ¦κ°€ν•΄λ„ μ„λ²„λ¥Ό λ€κ±° ν¬μ…ν•  μ μλ‹¤.
        - λ¬΄μƒνƒλ” μ‘λ‹µ μ„λ²„λ¥Ό μ‰½κ² λ°”κΏ€ μ μλ‹¤ β†’ **λ¬΄ν•ν• μ„λ²„ μ¦μ„¤ κ°€λ¥**

### π‘Β μ¥μ : **`μ„λ²„ ν™•μ¥μ„±` λ†’μ(`μ¤μΌ€μΌ μ•„μ›ƒ` - μν‰ ν™•μ¥ μ λ¦¬)**

- **μƒνƒ μ μ§€μΈ κ²½μ°**
    - ν•­μƒ κ°™μ€ μ„λ²„κ°€ μ μ§€λμ–΄μ•Ό ν•λ‹¤.
    - μ¤‘κ°„μ— μ„λ²„κ°€ μ¥μ• λ‚μ„ μ£½μΌλ©΄ ν΄λΌμ΄μ–ΈνΈλ” μ²μλ¶€ν„° λ‹¤μ‹ λ°”λ€ μ„λ²„μ— μ”μ²­ν•΄μ•Όν•λ‹¤.
- **λ¬΄μƒνƒμΈ κ²½μ°**
    - ν΄λΌμ΄μ–ΈνΈκ°€ μ• μ΄μ— μ”μ²­μ‹μ— ν•„μ”ν• μ •λ³΄λ¥Ό λ¨λ‘ λ‹΄μ•„μ„ λ³΄λ‚Έλ‹¤.
    - μ¤‘κ°„μ— μ„λ²„κ°€ μ¥μ• λ‚λ„ μƒκ΄€μ—†λ‹¤. (λ¬Έλ§¥contextμ΄ μ¤‘μ”ν•μ§€ μ•λ‹¤)

### π‘Β λ‹¨μ : **`ν΄λΌμ΄μ–ΈνΈκ°€ μ¶”κ°€ λ°μ΄ν„° μ „μ†΅` , `λ§¤λ² λ„λ¬΄ λ§μ€ λ°μ΄ν„° μ „μ†΅`**

- λ¨λ“  κ²ƒμ„ λ¬΄μƒνƒλ΅ μ„¤κ³„ ν•  μ μλ” κ²½μ°λ„ μκ³  μ—†λ” κ²½μ°λ„ μλ‹¤.
- **λ¬΄μƒνƒ**
    - ex. λ΅κ·ΈμΈμ΄ ν•„μ”μ—†λ” μ„λΉ„μ¤
- **μƒνƒ μ μ§€** (contextκ°€ ν•„μ”ν• κ²½μ°)
    - ex. λ΅κ·ΈμΈ
    - λ΅κ·ΈμΈν• μ‚¬μ©μμ κ²½μ° λ΅κ·ΈμΈ ν–λ‹¤λ” μƒνƒλ¥Ό μ„λ²„μ— μ μ§€
    - μΌλ°μ μΌλ΅ λΈλΌμ°μ € μΏ ν‚¤μ™€ μ„λ²„ μ„Έμ…λ“±μ„ μ‚¬μ©ν•΄μ„ μƒνƒμ μ§€

### κ²°λ΅ : μµλ€ν• **λ¬΄μƒνƒλ΅ μ²λ¦¬**ν•κ³  **μƒνƒ μ μ§€λ” μµμ†ν•λ§ μ‚¬μ©**

## (3) **λΉ„μ—°κ²°μ„±**(connectionless)

- ν΄λΌμ΄μ–ΈνΈκ°€ ν•„μ”λ΅ ν•λ” λ°μ΄ν„°λ§ μ£Όκ³  λ°›κ³  λ°”λ΅ μ—°κ²°μ„ λμ.
- HTTPλ” **κΈ°λ³Έμ΄ μ—°κ²°μ„ μ μ§€ν•μ§€ μ•λ” λ¨λΈ**
    - μ„λ²„λ” μ—°κ²° μ μ§€x, μµμ†ν•μ μμ› μ‚¬μ©
- μΌλ°μ μΌλ΅ μ΄ λ‹¨μ„ μ΄ν•μ λΉ λ¥Έ μ†λ„λ΅ μ‘λ‹µ
- 1μ‹κ°„ λ™μ• μμ²λ…μ΄ μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•΄λ„ μ‹¤μ  μ„λ²„μ—μ„ λ™μ‹μ— μ²λ¦¬ν•λ” μ”μ²­μ€ μμ‹­κ° μ΄ν•λ΅ λ§¤μ° μ‘μ
    - ex. μ›Ή λΈλΌμ°μ €μ—μ„ κ³„μ† μ—°μ†ν•΄μ„ κ²€μƒ‰ λ²„νΌμ„ λ„λ¥΄μ§„ μ•λ”λ‹¤.

### π‘Β μ¥μ : `μ„λ²„ μμ›μ„ λ§¤μ° ν¨μ¨μ μΌλ΅ μ‚¬μ©`ν•  μ μμ.

### β οΈΒ **ν•κ³„μ™€ κ·Ήλ³µ**

- ν•κ³„
    - **TCP/IP μ—°κ²°**μ„ μƒλ΅ λ§Ίμ–΄μ•Όν•¨ - 3 way handshake μ‹κ°„ μ¶”κ°€
    - μ›Ή λΈλΌμ°μ €λ΅ μ‚¬μ΄νΈλ¥Ό μ”μ²­ν•λ©΄ HTML λΏλ§ μ•„λ‹λΌ μλ°”μ¤ν¬λ¦½νΈ, css, μ¶”κ°€ μ΄λ―Έμ§€ λ“± **μ λ§μ€ μμ›μ΄ ν•¨κ» λ‹¤μ΄λ΅λ“**
- κ·Ήλ³µ
    - μ§€κΈμ€ HTTP **μ§€μ† μ—°κ²°(Persistent Connections)**λ΅ λ¬Έμ  ν•΄κ²°
    - μ”μ²­ ν›„ λ°›μ„ μ μλ” μ‘λ‹µμ„ λ¨λ‘ λ°›μ„ λ•κΉμ§€ μ—°κ²° μ μ§€ β†’ λ‹¤ λ°›κ³  μΆ…λ£
    - HTTP/2, HTTP/3μ—μ„ λ” λ§μ€ μµμ ν™”
    

## π“Β μ¤ν…μ΄μ¤λ¦¬μ¤λ¥Ό κΈ°μ–µν•μ!!

μ„λ²„ κ°λ°μλ“¤μ΄ μ–΄λ ¤μ›ν•λ” μ—…λ¬΄

- μ •λ§ κ°™μ€ μ‹κ°„μ— λ”± λ§μ¶”μ–΄ λ°μƒν•λ” λ€μ©λ‰ νΈλν”½
- μ) μ„ μ°©μ μ΄λ²¤νΈ, λ…μ  KTX μμ•½, ν•™κ³Ό μμ—… λ“±λ΅
- μ‚¬μ©μλ“¤μ΄ μ‹κ°„μ„ λ³΄λ‚Ό μ μλ” HTML νμ΄μ§€λ¥Ό λ‘λ” λ°©λ²• λ“±μΌλ΅ ν‘Όλ‹¤.

# 3. HTTP λ©”μ‹μ§€ κµ¬μ΅°

- `start-line` μ‹μ‘ λΌμΈ
- `header` ν—¤λ”
- `empty line` κ³µλ°± λΌμΈ (CRLF)
- `message body`

## (1) μ‹μ‘ λΌμΈ

### **μ”μ²­ λ©”μ‹μ§€**

- start-line = **request-line** / status-line
- **request-line** = `method` `SP(κ³µλ°±)` `request-target` `SP` `HTTP-version` `CRLF(μ—”ν„°)`
- **HTTP λ©”μ„λ“**
    - μΆ…λ¥ : GET, POST, PUT, DELETE...
    - μ„λ²„κ°€ μν–‰ν•΄μ•Ό ν•  λ™μ‘ μ§€μ •
        - GET : λ¦¬μ†μ¤ μ΅°ν
        - POST : μ”μ²­ λ‚΄μ—­ μ²λ¦¬
- **μ”μ²­ λ€μƒ** (μΏΌλ¦¬ νλΌλ―Έν„°)
    - absolute-path[?query](μ λ€κ²½λ΅[?μΏΌλ¦¬])
    - μ λ€κ²½λ΅ = "/" λ΅ μ‹μ‘ν•λ” κ²½λ΅
- **HTTP Version**

### **μ‘λ‹µ λ©”μ‹μ§€**

- start-line = request-line / **status-line**
- **status-line =** `HTTP-version` `SP` `status-code` `SP` `reason-phrase` `CRLF`
- **HTTP λ²„μ „**
- **HTTP μƒνƒ μ½”λ“**: μ”μ²­ μ„±κ³µ, μ‹¤ν¨λ¥Ό λ‚νƒ€λƒ„
    - 200: μ„±κ³µ
    - 400: ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ¤λ¥
    - 500: μ„λ²„ λ‚΄λ¶€ μ¤λ¥
- **μ΄μ  λ¬Έκµ¬** : μ‚¬λμ΄ μ΄ν•΄ν•  μ μλ” μ§§μ€ μƒνƒ μ½”λ“ μ„¤λ… κΈ€
    - ex. OK

## (2) HTTP ν—¤λ”

- **header-field** = `field-name`β€`:`" `OWS` `field-value` `OWS` (OWS : λ„μ–΄μ“°κΈ° ν—μ©)
- field-nameμ€ λ€μ†λ¬Έμ κµ¬λ¶„ μ—†μ
- field-nameκ³Ό μ½λ΅ μ€ λ°λ“μ‹ λ¶™μ—¬μ“°κΈ°
    
    

### **μ©λ„**

- HTTP μ „μ†΅μ— ν•„μ”ν• λ¨~λ“  λ¶€κ°€μ •λ³΄ (bodyμ— μλ” μ •λ³΄ μ™Έμ λ¨λ“  κ²ƒ)
    - ex. λ©”μ‹μ§€ λ°”λ””μ λ‚΄μ©, λ©”μ‹μ§€ λ°”λ””μ ν¬κΈ°, μ••μ¶•, μΈμ¦, μ”μ²­ ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €) μ •λ³΄, μ„λ²„ μ• ν”λ¦¬μΌ€μ΄μ… μ •λ³΄, μΊμ‹ κ΄€λ¦¬ μ •λ³΄...
- ν‘μ¤€ ν—¤λ”κ°€ λ„λ¬΄ λ§μ
    - [https://en.wikipedia.org/wiki/List_of_HTTP_header_fields](https://en.wikipedia.org/wiki/List_of_HTTP_header_fields)
- ν•„μ”μ‹ μ„μμ ν—¤λ” μ¶”κ°€ κ°€λ¥
    - ex. helloworld: hihi
    

## (3) HTTP λ©”μ„Έμ§€ λ°”λ””

### μ©λ„

- μ‹¤μ  μ „μ†΅ν•  λ°μ΄ν„°
- HTML λ¬Έμ„, μ΄λ―Έμ§€, μμƒ, JSON λ“±λ“± **byteλ΅ ν‘ν„ν•  μ μλ” λ¨λ“  λ°μ΄ν„° μ „μ†΅ κ°€λ¥ (μ••μ¶• μ‹ μ••μ¶•λ λ¨λ“  λ‚΄μ©)**

# 4. μ •λ¦¬

- HTML λ©”μ„Έμ§€μ— λ¨λ“  κ²ƒμ„ μ „μ†΅
- HTTP μ—­μ‚¬ HTTP/1.1μ„ κΈ°μ¤€μΌλ΅ ν•™μµ
- ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κµ¬μ΅°
- λ¬΄μƒνƒ ν”„λ΅ν† μ½(μ¤ν…μ΄μ¤λ¦¬μ¤)
- HTTP λ©”μ„Έμ§€
- λ‹¨μν•¨, ν™•μ¥ κ°€λ¥
- μ§€κΈμ€ HTTP μ‹λ€!
